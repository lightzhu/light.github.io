(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{527:function(t,e,a){"use strict";a.r(e);var n=a(6),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"center"},[a("img",{staticClass:"mcenter",staticStyle:{height:"200px"},attrs:{src:"https://gitee.com/lightzhu/picgo/raw/master/blog-thumbnail.png"}})]),t._v(" "),a("html",[a("head",[a("meta",{attrs:{"http-equiv":"content-type",content:"text/html;charset=utf-8;"}}),t._v(" "),a("meta",{attrs:{"http-equiv":"X-UA-Compatible",content:"IE=edge,chrome=1"}}),t._v(" "),a("meta",{attrs:{name:"robots",content:"all"}}),t._v(" "),a("meta",{attrs:{name:"robots",content:"index,follow"}}),t._v(" "),a("title",[t._v("3D 模型转换及压缩")]),t._v(" "),a("link",{attrs:{rel:"stylesheet",href:"/css/picnic.min.css"}}),t._v(" "),a("style",[t._v("\n    .container{\n      width:100%;\n    }\n    .form-group {\n      display:flex;\n      justify-content: center;\n      align-items: center;\n    }\n    .form-group label{\n      line-height:34px;\n      margin:0;\n    }\n    .form-group .form-control{\n      width:66%;\n      margin-right:10px;\n    }\n    .form-group .btn{\n      margin:0px;\n    }\n    .file-box{\n      margin-top:20px;\n    }\n    .down{\n      margin-top:20px;\n    }\n    .down p{\n      display:inline-block;\n    }\n    .image-box{\n      min-height:350px;\n      text-align:center;\n    }\n    .image-box img{\n      min-width:300px;\n      min-height:300px;\n      height:auto;\n      border:1px solid #ccc;\n    }\n    .down{\n      display:none;\n    }\n    .tip{\n       margin-top:20px;\n    }\n  ")])]),t._v(" "),a("body",[a("div",{staticClass:"container"},[a("div",[a("label",[a("input",{attrs:{type:"radio",name:"radiotype",checked:"",value:"0"}}),t._v(" "),a("span",{staticClass:"checkable"},[t._v(".gltf 转 .glb")])]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"radiotype",value:"1"}}),t._v(" "),a("span",{staticClass:"checkable"},[t._v(".glb 转 .gltf")])]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"radiotype",value:"2"}}),t._v(" "),a("span",{staticClass:"checkable"},[t._v("材质拆分")])]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"radiotype",value:"3"}}),t._v(" "),a("span",{staticClass:"checkable"},[t._v("EXT_meshopt_compression 压缩")])])]),t._v(" "),a("div",[a("label",[a("input",{attrs:{type:"radio",name:"radiotype",value:"4"}}),t._v(" "),a("span",{staticClass:"checkable"},[t._v("KHR_mesh_quantization 向量化压缩")])]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"radiotype",value:"5"}}),t._v(" "),a("span",{staticClass:"checkable"},[t._v("KHR_draco_mesh_compression 网格压缩")])])])]),t._v(" "),a("div",{staticClass:"file-box"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"file"}},[t._v("模型文件：")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"file",id:"file",accept:".gltf,.glb",placeholder:"上传"}}),t._v(" "),a("button",{attrs:{id:"creatFile"}},[t._v("确认")])]),t._v(" "),a("div",{staticClass:"down"},[a("p",{attrs:{id:"dist"}},[t._v("下载地址")]),t._v(" "),a("span",{staticClass:"size"}),t._v(" "),a("a",{attrs:{href:"/",target:"_blank"}},[t._v("点击下载")])])]),t._v(" "),a("div",{staticClass:"tip"},[a("h3",[t._v("DRACO 压缩的文件需要使用解码器")]),t._v(" "),a("p",[t._v("解码需要draco_decoder.js draco_decoder.wasm这三个在threejs /examples/js/libs/ 已经准备好了，复制到你的服务器中DRACOLoader.setDecoderPath()你需要指定的路径。")]),t._v(" "),a("div",{staticClass:"image-box"},[a("img",{staticClass:"img",attrs:{src:"https://gitee.com/lightzhu/picgo/raw/master/dracoloader使用.png"}})])]),t._v(" "),a("div",{staticClass:"tip"},[a("h3",[t._v("meshopt_compression压缩的文件使用")]),t._v(" "),a("p",[t._v("解码需要meshopt_decoder.module.js文件同样在threejs /examples/js/libs/ 里。")]),t._v(" "),a("div",{staticClass:"image-box"},[a("img",{staticClass:"img",attrs:{src:"https://gitee.com/lightzhu/picgo/raw/master/meshopt_compression.png"}})])]),t._v(" "),a("script",{attrs:{src:"https://cdn.bootcdn.net/ajax/libs/jquery/1.8.0/jquery-1.8.0.min.js"}}),t._v(" "),a("script",[t._v("\n    $(document).ready(function(){\n       $(\"#creatFile\").click(function(){\n        console.log($(\"input[name='radiotype']:checked\").val());\n        let type = $(\"input[name='radiotype']:checked\").val();\n        var files = $('#file').prop('files');\n        var data = new FormData();\n        data.append('file', files[0]);\n        data.append('type', type);\n        $('.down').hide();\n        uploadFileAndconvert(data);\n      })\n      function uploadFileAndconvert(params){\n        $.ajax({\n          type: \"post\",\n          // url: \"http://127.0.0.1:7001/3dmodel/convert\",\n          url:\"https://xapi.2048888.xyz/3dmodel/convert\",\n          data:params,\n          cache: false,\n          timeout : 50000,\n          processData: false, \n          contentType: false, \n          success: function (res) {\n            console.log(res)\n            if(res.code!==200){\n              return window.alert(res.msg)\n            }\n            $('.down').show().find('#dist').text(res.data.path)\n            $('.down .size').eq(0).text(res.data.size)\n            $('.down a').eq(0).attr('href',res.data.path)\n          },\n          error: function (err) {\n            console.log(err)\n          }\n        })\n      }\n    })\n  ")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);