(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{533:function(t,a,e){"use strict";e.r(a);var r=e(6),v=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"center"},[e("img",{staticClass:"mcenter",staticStyle:{height:"200px"},attrs:{src:"https://gitee.com/lightzhu/picgo/raw/master/blog-thumbnail.png"}})]),t._v(" "),e("p",[t._v("甲骨文云 arm 服务器安装 tomcat9 之后报错：\n"),e("code",[t._v("line 235: /www/server/tomcat/bin/jsvc: No such file or directory")])]),t._v(" "),e("h2",{attrs:{id:"解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[t._v("#")]),t._v(" 解决")]),t._v(" "),e("ul",[e("li",[t._v("手动安装 java1.8,这里选择支持 arm 架构的 open JDK 8")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://openjdk.java.net/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("open doc"),e("OutboundLink")],1),t._v(" "),e("code",[t._v("sudo apt-get install openjdk-8-jre")])]),t._v(" "),e("li",[t._v("这是会安装到/usr/lib/jvm 文件夹下面，java -version 就能看到当前 java 的版本")])]),t._v(" "),e("h2",{attrs:{id:"添加环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加环境变量"}},[t._v("#")]),t._v(" 添加环境变量")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("vi ~/.bashrc")])]),t._v(" "),e("li",[t._v("修改成正确的目录\n"),e("code",[t._v("#set oracle jdk environment export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-arm64 ## 这里要注意目录要换成自己解压的jdk 目录 export JRE_HOME=${JAVA_HOME}/jre export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib export PATH=${JAVA_HOME}/bin:$PATH")])]),t._v(" "),e("li",[t._v("使环境变量马上生效\n"),e("code",[t._v("source ~/.bashrc")])]),t._v(" "),e("li",[t._v("系统注册此 jdk（300 为优先级）\n"),e("code",[t._v("sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/java-8-openjdk-arm64/bin/java 300")])])]),t._v(" "),e("h2",{attrs:{id:"编译-jsvc-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译-jsvc-文件"}},[t._v("#")]),t._v(" 编译 jsvc 文件")]),t._v(" "),e("ul",[e("li",[t._v("进入 Tomcat 安装 cd /www/server/tomcat/bin/")]),t._v(" "),e("li",[t._v("进入 jsvc 的代码目录 cd ./commons-daemon-1.2.4-native-src/unix/")]),t._v(" "),e("li",[t._v("确定编译参数 ./configure --with-java=/usr/lib/jvm/java-8-openjdk-arm64")]),t._v(" "),e("li",[t._v("编译 make")]),t._v(" "),e("li",[t._v("将编译好的文件放到指定位置 cp jsvc ../../jsvc（这个路径下/www/server/tomcat/bin）")])]),t._v(" "),e("h2",{attrs:{id:"最后的办法-手动上传编译好的-jsvc-文件到-www-server-tomcat-bin-目录下-再启动-tomcat-发现成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最后的办法-手动上传编译好的-jsvc-文件到-www-server-tomcat-bin-目录下-再启动-tomcat-发现成功"}},[t._v("#")]),t._v(" 最后的办法，手动上传编译好的 jsvc 文件到 /www/server/tomcat/bin 目录下，再启动 tomcat 发现成功")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://bytedance.lanzoui.com/i7IEyvth3kf",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载地址"),e("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=v.exports}}]);